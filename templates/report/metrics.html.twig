{% extends "base.html.twig" %}

{% block title %}Metrics{% endblock %}

{% block body %}
<h1>Metrics</h1>

<h2>Introduktion</h2>

<p>De sex C:a används för att bedöma och förbättre kodkvalitet.</p>

<h3>Codestyle</h3>
<p>Det första C:et är Codestyle. Det handlar om hur koden är formaterad. Kod som är enhetlig är lättare att läsa, förstå
    och arbeta med. Exempel på saker som kan vara viktiga inom Codestyle är klar och tydlig namngivning (tex variabler
    och funktioner), indentering för att lätt se struktur och sist är användning av kommentarer för att förtydliga och
    förklara koden.</p>

<p>Exempel på tydliga namn kan tillexempel vara klass namnet DeckOfCards. Namnet indikerar att det är en kortlek med
    troligen spelkort i sig. När man också vet att klassen Cards finns så kan man få en förståelse av hur klassen kan
    fungera.</p>

<h3>Coverage</h3>
<p>Coverage är det andra C:et och handlar om hur stor del av koden som täcks/testas av automatiska tester. Hög täckning
    leder ofta till mindre buggar i koden eftersom att de upptäckts av testerna i ett tidigare stadium i utvecklingen.
</p>

<p>Just nu har jag några tester som täcker koden för spelet och klassen twentyone.</p>

<h3>Complexity</h3>
<p>Complexity handlar om hur komplicerad koden är. Kod som är komplicerad är svår att förstå och underhålla. Komplex kod
    kan till exempel vara många nestade if statements eller loopar. Cyklomatisk komplexitet är ett mått man kan använda
    för att mäta komplexitet i kod. Den räknar antalet linjära exekveringsvägar i koden.
</p>

<h3>Cohesion</h3>
<p>Cohesion mäter hur olika delar av koden relaterar till varandra. Till exempel att en klass byggs/används med eller i
    en annan klass som ett kort i en kortlek. Kod med hög cohesion innebär att komponenter i koden är direkt relaterade
    till funktionen av den och det underlättar underhåll och förståelse av koden.</p>

<h3>Coupling</h3>
<p>Coupling handlar om hur olika moduler eller klasser är beroende av varandra. Att sikta på låg coupling är bra för att
    det säkerställer att ändringar i en del av koden inte förstör andra delar. Detta gör koden lättare att underhålla.
</p>
<p>I spelet twentyone har jag rätt så hög coupling eftersom att klassen är beroende av många andra klasser. Till exempel
    DeckOfCards och CardHand dessa klasser är också beroende av andra som till exempel Card och CarGraphic klasserna.
</p>

<h3>CRAP</h3>
<p>Change Risk Anti-Patterns(CRAP) är ett sätt att mäta kod genom att kombinera de tidigare nämnda bedömningarna. Mer
    specifikt så är det ett mått som kombinerar kod komplexitet och täckning för att identifiera problem med ändringar
    man gör. Ju högre CRAP värde man har desto svårare är det att göra ändringar i den på grund av den höga
    komplexiteten och dålig kodtäckning.
</p>
<p>Just nu har min kod 23% i coverage så jag kommer behöva skriva mer tester för att göra min kod mindre CRAP.</p>

<h2>Phpmetrics</h2>
<p>Här kommer statistik från phpmetrics.</p>

<ul>
    <li>Violations: 7 (0 critical, 1 errors)</li>
    <li>Lines of code: 1,093</li>
    <li>Classes: 20</li>
    <li>Average cyclomatic complexity by class: 3.70</li>
    <li>Assertions in tests: 72</li>
    <li>Average bugs by class: 0.14</li>
</ul>

<div>
    <img src="{{ asset('img/phpmetrics.png') }}" alt="bild på maintainabilyt" style="width: 300px;">
    <p>Bild på maintainability complexity</p>
</div>

<h3>Flaskhalsar och Svagheter:</h3>

<h2>Scrutinizer</h2>
<div class="badges">
    <a href="https://scrutinizer-ci.com/g/albinr/mvc-report/?branch=main" class="badge">
        <img src="https://scrutinizer-ci.com/g/albinr/mvc-report/badges/quality-score.png?b=main" style="padding: 10px;"
            alt="">
    </a>
    <a href="https://scrutinizer-ci.com/g/albinr/mvc-report/?branch=main" class="badge">
        <img src="https://scrutinizer-ci.com/g/albinr/mvc-report/badges/coverage.png?b=main" style="padding: 10px;"
            alt="">
    </a>
    <a href="https://scrutinizer-ci.com/g/albinr/mvc-report/build-status/main" class="badge">
        <img src="https://scrutinizer-ci.com/g/albinr/mvc-report/badges/build.png?b=main" style="padding: 10px;" alt="">
    </a>
</div>


{% endblock %}